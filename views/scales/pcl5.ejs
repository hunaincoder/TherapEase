<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PCL-5 Questionnaire</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        margin: 20px;
      }
      h1 {
        color: #2c3e50;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
      #results {
        margin-top: 20px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
      }
      .mild {
        background-color: #e6f7ff;
      }
      .moderate {
        background-color: #fff7e6;
      }
      .severe {
        background-color: #ffebee;
      }
      .badge {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 10px;
        font-weight: bold;
        margin-left: 10px;
      }
      .badge-1 {
        background-color: #4caf50;
        color: white;
      }
      .badge-2 {
        background-color: #ff9800;
        color: white;
      }
      .badge-3 {
        background-color: #f44336;
        color: white;
      }
    </style>
  </head>
  <body>
    <h1>Posttraumatic Stress Disorder Checklist for DSM-5 (PCL-5)</h1>
    <p>
      Keeping your worst event in mind, please read each problem carefully and
      indicate how much you have been bothered by that problem in the past
      month.
    </p>

    <form id="pclForm">
      <table id="questionsTable">
        <tr>
          <th>Question</th>
          <th>Not at all (0)</th>
          <th>A little bit (1)</th>
          <th>Moderately (2)</th>
          <th>Quite a bit (3)</th>
          <th>Extremely (4)</th>
        </tr>
      </table>
      <button type="submit">Submit</button>
    </form>

    <div id="results" style="display: none"></div>

    <script>
      const questions = [
        "Repeated, disturbing, and unwanted memories of the stressful experience?",
        "Repeated, disturbing dreams of the stressful experience?",
        "Suddenly feeling or acting as if the stressful experience were actually happening again?",
        "Feeling very upset when something reminded you of the stressful experience?",
        "Having strong physical reactions when something reminded you of the stressful experience?",
        "Avoiding memories, thoughts, or feelings related to the stressful experience?",
        "Avoiding external reminders of the stressful experience?",
        "Trouble remembering important parts of the stressful experience?",
        "Having strong negative beliefs about yourself, other people, or the world?",
        "Blaming yourself or someone else for the stressful experience?",
        "Having strong negative feelings such as fear, horror, anger, guilt, or shame?",
        "Loss of interest in activities that you used to enjoy?",
        "Feeling distant or cut off from other people?",
        "Trouble experiencing positive feelings?",
        "Irritable behavior, angry outbursts, or acting aggressively?",
        "Taking too many risks or doing things that could cause you harm?",
        'Being "super-alert" or watchful or on guard?',
        "Feeling jumpy or easily startled?",
        "Having difficulty concentrating?",
        "Trouble falling or staying asleep?",
      ];

      const table = document.getElementById("questionsTable");

      questions.forEach((question, index) => {
        const row = document.createElement("tr");
        const cell = document.createElement("td");
        cell.textContent = `${index + 1}. ${question}`;
        row.appendChild(cell);

        for (let i = 0; i < 5; i++) {
          const radioCell = document.createElement("td");
          const radio = document.createElement("input");
          radio.type = "radio";
          radio.name = `q${index + 1}`;
          radio.value = i;
          radioCell.appendChild(radio);
          row.appendChild(radioCell);
        }

        table.appendChild(row);
      });

      document
        .getElementById("pclForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          let totalScore = 0;

          for (let i = 1; i <= 20; i++) {
            const selectedValue = document.querySelector(
              `input[name="q${i}"]:checked`
            );
            if (selectedValue) {
              totalScore += parseInt(selectedValue.value);
            }
          }

          let severity = "";
          let badge = 0;

          if (totalScore >= 0 && totalScore <= 19) {
            severity = "Mild";
            badge = 1;
          } else if (totalScore >= 20 && totalScore <= 36) {
            severity = "Moderate";
            badge = 2;
          } else if (totalScore >= 37) {
            severity = "Severe";
            badge = 3;
          }

          const resultsDiv = document.getElementById("results");
          resultsDiv.style.display = "block";
          resultsDiv.className = severity.toLowerCase();

          resultsDiv.innerHTML = `
                <h2>Results</h2>
                <p><strong>Total Score:</strong> ${totalScore}</p>
                <p><strong>Severity:</strong> ${severity} <span class="badge badge-${badge}">Badge ${badge}</span></p>
            `;
        });
    </script>
  </body>
</html>
